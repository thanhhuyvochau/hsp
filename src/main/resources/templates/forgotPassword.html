<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/login.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" rel="stylesheet">
    <title>Reset Password</title>
</head>
<body>
  <div class="wrapper">
    <div class="container main">
        <div class="row">
            <div class="col-md-6 side-image">
                       
         
                
                <img src="../assets/img/login/hotelLogin.jpg" alt="">
                
            </div>
            <div class="col-md-6 right">
                
                <div class="input-box">
                   
                   <header>Vui lòng nhập email để tìm kiếm tài khoản của bạn.</header>
                   <form id="formAuthentication" class="mb-3" th:action="@{/hbs/resetPassword}" method="POST">
                   <div class="input-field">
                        <input type="text" class="input" id="email" th:value="${saveEmail}"  name="email" required="" autocomplete="off">
                        <label for="email">Email </label>

                    </div>
                       <div class="input-field">
                           <p id="email-error" style="color: red;"></p>
                       </div>
                       <div class="input-field" th:if="${email}" >
                           <p class="alert-danger" th:text="${email}"></p>
                       </div>
                       <div class="input-field" th:if="${errMess}" >
                           <p class="alert-danger" th:text="${errMess}"></p>
                       </div>
                    <div class="container_swap">
                        <div class="div-left">
                    <input type="submit" id="submit-button"  disabled class="submit_forgot" value="Tìm kiếm">
                     </div>

               </form>
                    <div class="div-right" style="margin-top: 20px">
                        <span><a th:href="@{/login}">Quay trở về Login!!</a></span>
                    </div>

               <div th:if="${successMessage}" class="alert alert-success">
							<span th:text="${successMessage}"></span>
               </div>
               </div>
                </div>
            </div>   
            </div>
        </div>
    </div>
</div>
  <script>
      var submitButton = document.getElementById("submit-button");

      document.getElementById("email").addEventListener("input", function() {
          var email = this.value;
          var pattern = /^[a-zA-Z0-9!#$%&'*+/=?^`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;

          if (!pattern.test(email)) {
              document.getElementById("email-error").textContent = "Email không đúng định dạng.";
              submitButton.disabled = true;
          }else {
              document.getElementById("email-error").textContent = "";
              submitButton.disabled = false;
          }
      });
      </script>
</body>
</html>